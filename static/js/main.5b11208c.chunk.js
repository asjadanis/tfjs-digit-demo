(this["webpackJsonptfjs-digit-demo"]=this["webpackJsonptfjs-digit-demo"]||[]).push([[0],{290:function(e,t,n){e.exports=n(331)},302:function(e,t,n){},303:function(e,t,n){},304:function(e,t,n){},305:function(e,t,n){},311:function(e,t){},312:function(e,t){},320:function(e,t){},323:function(e,t){},324:function(e,t){},325:function(e,t,n){},326:function(e,t,n){},327:function(e,t,n){},328:function(e,t,n){},330:function(e,t,n){},331:function(e,t,n){"use strict";n.r(t);var a=n(19),c=n.n(a),i=n(152),r=n.n(i),o=n(150),l=n(145),s=n(105),u=n(247),m=(n(299),n(300),n(90)),d=n(206),f=function(e){return Object(s.combineReducers)({router:Object(l.b)(e)})},h=Object(m.a)({basename:"tfjs-digit-demo"});n(302);var v=n(197),p=(n(303),function(e){return c.a.createElement("div",{className:"header-container"},"TF-JS Digit Recognition")}),E=(n(304),function(e){return c.a.createElement("div",{className:"footer-container"},c.a.createElement("div",{className:"footer-content"},c.a.createElement("a",{target:"_blank",href:"https://github.com/asjadanis/tfjs-digit-demo",className:"link-styles"},"Github")))}),b=(n(305),function(e){var t=e.children;return c.a.createElement("div",{className:"layout-container"},c.a.createElement(p,null),c.a.createElement("div",{className:"layout-content"},t),c.a.createElement(E,null))}),g=n(4),j=n.n(g),y=n(20),O=n(12),w=n(6),x=n(196),N=(n(325),function(e){var t=Object(a.useRef)(null),n=Object(a.useState)(null),i=Object(w.a)(n,2),r=i[0],o=i[1],l=Object(a.useState)(!1),s=Object(w.a)(l,2),u=s[0],m=s[1],d=Object(a.useState)({x:null,y:null}),f=Object(w.a)(d,2),h=f[0],v=f[1],p=function(e){var t=g(e),n=t.mouseX,a=t.mouseY;m(!0),j(n,a)},E=function(e){if(u){var t=g(e),n=t.mouseX,a=t.mouseY;j(n,a)}},b=function(e){m(!1)},g=function(e){var n=null,a=null;if(t.current){var c=t.current.getBoundingClientRect();n=e.clientX-c.left,a=e.clientY-c.top,e.touches&&(n=e.touches[0].clientX-c.left,a=e.touches[0].clientY-c.top)}return{mouseX:n,mouseY:a}},j=function(e,t){u&&(r.strokeStyle="white",r.lineWidth=10,r.lineJoin="round",r.beginPath(),r.moveTo(h.x,h.y),r.lineTo(e,t),r.closePath(),r.stroke()),v({x:e,y:t})};return Object(a.useEffect)((function(){t&&o(t.current.getContext("2d"))}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"canvas-container"},c.a.createElement("canvas",{onMouseDown:p,onMouseMove:E,onMouseUp:b,onTouchStart:p,onTouchEnd:b,onTouchMove:E,ref:t,width:"250px",height:"250px",className:"canvas-styles"})),c.a.createElement("div",null,c.a.createElement("button",{style:{width:"4rem",marginRight:"2rem"},onClick:function(n){var a;(0,e.predictDigit)((a=t.current,x.a.fromPixels(a).resizeNearestNeighbor([28,28]).mean(2).expandDims(2).expandDims().toFloat().div(255)))}},"Predict"),c.a.createElement("button",{style:{width:"4rem"},onClick:function(e){r.clearRect(0,0,r.canvas.width,r.canvas.height),m(!1),v({x:null,y:null})}},"Clear")))}),k=(n(326),function(e){var t=e.digit;return c.a.createElement("div",{className:"digit-container-styles"},c.a.createElement("div",{className:"digit-card-styles"},c.a.createElement("div",{className:"digit-inner-container"},c.a.createElement("span",{className:"font-styles"},t))))}),S=(n(327),[{title:"Home",path:"/",exact:!0,component:function(e){var t=Object(a.useState)(null),n=Object(w.a)(t,2),i=n[0],r=n[1],o=Object(a.useState)(null),l=Object(w.a)(o,2),s=l[0],u=l[1],m=function(){var e=Object(O.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.predict(t).data();case 2:n=e.sent,a=n.indexOf(Math.max.apply(Math,Object(y.a)(n))),u(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){function e(){return(e=Object(O.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.b("https://storage.googleapis.com/mnist-digit/1/mnist-tf-js/model.json");case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),c.a.createElement("div",{className:"home-container"},c.a.createElement("div",{className:"inner-container"},c.a.createElement("div",{style:{width:"50%",minWidth:"300px"}},c.a.createElement(N,{predictDigit:m})),c.a.createElement("div",{style:{width:"50%",minWidth:"300px"}},c.a.createElement(k,{digit:s}))))}}]),M=(n(328),n(202)),D=n.n(M),R=(n(329),n(330),function(e){return D.a.start(),Object(a.useEffect)((function(){D.a.done()}),[]),c.a.createElement(v.a,e)});var T=function(){return c.a.createElement("div",null,c.a.createElement(b,null,c.a.createElement("div",{className:"main-content"},c.a.createElement(v.c,null,S.map((function(e,t){return c.a.createElement(R,Object.assign({key:t},e))}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[u.a,Object(d.a)(h)];return Object(s.createStore)(f(h),e,s.applyMiddleware.apply(void 0,t))}();r.a.render(c.a.createElement(o.a,{store:C},c.a.createElement(l.a,{history:h},c.a.createElement(c.a.StrictMode,null,c.a.createElement(T,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[290,1,2]]]);
//# sourceMappingURL=main.5b11208c.chunk.js.map